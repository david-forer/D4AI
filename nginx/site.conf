# Redirect all www to non-www over HTTPS
server {
  listen 80;
  server_name www.davidjforer.com;
  return 301 https://davidjforer.com$request_uri;
}

server {
  listen 443 ssl;
  server_name www.davidjforer.com;
  return 301 https://davidjforer.com$request_uri;

  # SSL certs are usually handled by Coolify/Traefik, so you might not need
  # ssl_certificate / ssl_certificate_key here
}

# Redirect plain HTTP to HTTPS
server {
  listen 80;
  server_name davidjforer.com;
  return 301 https://davidjforer.com$request_uri;
}
